# GONGREQIF

## process to generate the model


```bash
xgen -i dtc-11-04-05.xsd -o go/schema/xgen_out.go -l Go
cp go/schema/xgen_out.go go/models/models.go
sed -i '' 's/\/\/ Code generated by gowsdl DO NOT EDIT.//g' go/models/models.go
sed -i '' 's/package schema/package models/g'  go/models/models.go
sed -i '' '/type REQIF \*REQIF/c\
type REQIF struct {\
	XMLName     xml.Name     `xml:"REQ-IF"`\
	HEADER      *THEHEADER   `xml:"THE-HEADER"`\
	CORECONTENT *CORECONTENT `xml:"CORE-CONTENT"`\
}\
'  go/models/models.go
sed -i '' 's/package schema/package models/g'  go/models/models.go
sed -i '' 's/type \([A-Za-z0-9_]*\) struct {/type \1 struct { \
    Name string/g' go/models/models.go
sed -i '' 's/XhtmlBlkStructClass \*XhtmlBlkStructClass//g' go/models/models.go

```

with vscode, refactor TYPE into REQTYPE

```bash
time gongc go/models
```

### with gowsdl

gowsdl -d go -p schema -o schema.go reqif.wsdl

Things are doing great but for attibutes, it does not work.

```xml
        <SPEC-OBJECT
            IDENTIFIER="_xen_QMkhEee8KsfWrp9EJQ"
            LAST-CHANGE="2017-11-14T15:44:26.000+02:00"
            LONG-NAME="Requirement-1">
```

Is there something in the XSD that says it is an attribute and not an element ?

Yes it does

```xsd
    <xsd:attribute name="DESC" type="xsd:string" use="optional"/>
    <xsd:attribute name="IDENTIFIER" type="xsd:ID" use="required"/>
    <xsd:attribute name="LAST-CHANGE" type="xsd:dateTime" use="required"/>
    <xsd:attribute name="LONG-NAME" type="xsd:string" use="optional"/>
```

We have to go back to xmlplaygground